"""
بوت أسئلة مادة أنشطة الإدارة في الإسلام - نسخة كاملة مع 100 سؤال
"""

import logging
import os
import asyncio
import random
from datetime import datetime
from collections import defaultdict
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes

# ==================== إعدادات ====================
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

TOKEN = os.environ.get('BOT_TOKEN', '8550588818:AAHkdtokih3ndkVHYNEEMo__8mKBQsg1tH0')
TIME_LIMIT = 40

# ==================== جميع الأسئلة (100 سؤال) ====================
QUESTIONS = [
    # ========== الدرس السابع (الأسئلة 1-30) ==========
    {
        "id": 1,
        "text": "ماذا يعني قوله ﷺ: \"فَاسْتَعْمِلْهُمُ اخْتِبَاراً\" في سياق اختيار العمال؟",
        "options": {
            "أ": "أن توليهم بناءً على المحاباة والأثرة",
            "ب": "أن تختبرهم وتختبر كفاءتهم قبل التولية",
            "ج": "أن تتركهم يعملون دون أي متابعة",
            "د": "أن تقدم الأقارب والأصدقاء على غيرهم"
        },
        "correct": "ب",
        "explanation": "الاختبار قبل التولية ضروري لمعرفة الكفاءة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 2,
        "text": "ما معنى \"المحاباة\" في التولية كما ورد في النص؟",
        "options": {
            "أ": "تولية الشخص لكفاءته العلمية والعملية",
            "ب": "تولية الشخص لقرابته أو صداقته فقط",
            "ج": "تولية الشخص بعد اجتيازه اختبارًا عمليًا",
            "د": "تولية الشخص بناءً على مشورة أهل الخبرة"
        },
        "correct": "ب",
        "explanation": "المحاباة هي تولية الأقارب والأصدقاء بغض النظر عن الكفاءة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 3,
        "text": "ما نتيجة التولية بالمحاباة والأثرة؟",
        "options": {
            "أ": "تحقيق العدل والمساواة بين الناس",
            "ب": "جمع شعب الجور والخيانة",
            "ج": "زيادة الإنتاج وتحسين الأداء",
            "د": "تقوية الدولة واستقرارها"
        },
        "correct": "ب",
        "explanation": "المحاباة تؤدي إلى الجور والخيانة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 4,
        "text": "\"فَإِنَّهُمَا جَمَاعٌ مِنْ شُعَبِ الْجُورِ وَالْخِيَانَةِ\" يشير الضمير \"هما\" إلى:",
        "options": {
            "أ": "الاختبار والتجربة",
            "ب": "الكفاءة والأمانة",
            "ج": "المحاباة والأثرة",
            "د": "العدل والإنصاف"
        },
        "correct": "ج",
        "explanation": "المحاباة والأثرة هما أساس الجور والخيانة",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 5,
        "text": "من هم \"أهل التجربة والحياء\" الذين أمر الإمام علي بتوخيهم للعمالة؟",
        "options": {
            "أ": "من لهم تجربة عملية فقط",
            "ب": "من يجمعون بين التجربة العملية والحياء والأخلاق",
            "ج": "من لهم قرابة من الوالي",
            "د": "من لهم قدم في الإسلام فقط"
        },
        "correct": "ب",
        "explanation": "يجب الجمع بين الخبرة العملية والأخلاق الحسنة",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 6,
        "text": "ما أهمية صفة \"الحياء\" فيمن يختار للعمل؟",
        "options": {
            "أ": "لأنه يزيد من جرأته على الخيانة",
            "ب": "لأنه يمنعه من الإقدام على الفساد والتفريط",
            "ج": "لأنه يجعله قاسيًا في التعامل",
            "د": "لأنه يجعله غير قادر على اتخاذ القرارات"
        },
        "correct": "ب",
        "explanation": "الحياء يردع الإنسان عن المعاصي والفساد",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 7,
        "text": "\"مِنْ أَهْلِ الْبُيُوتَاتِ الصَّالِحَةِ\" تعني:",
        "options": {
            "أ": "من ينتمون لعائلات غنية فقط",
            "ب": "من تربوا على مكارم الأخلاق والقيم الصالحة",
            "ج": "من سكنوا بيوتًا كبيرة",
            "د": "من لهم نفوذ اجتماعي فقط"
        },
        "correct": "ب",
        "explanation": "البيوتات الصالحة هي التي تربت على الأخلاق والقيم",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 8,
        "text": "ما فائدة الاعتماد على ذوي البيوتات الصالحة في المسؤوليات؟",
        "options": {
            "أ": "لأنهم أكثر ثراءً",
            "ب": "لأن الأخلاق والقيم أصبحت أصيلة فيهم",
            "ج": "لأنهم أقل خبرة",
            "د": "لأنهم أكثر طمعًا في المنصب"
        },
        "correct": "ب",
        "explanation": "التربية الصالحة تجعل الالتزام بالأخلاق سهلاً",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 9,
        "text": "\"فَإِنَّهُمْ أَكْرَمُ أَخْلَاقًا، وَأَصَحُّ أَعْرَاضًا\" يشير هذا إلى:",
        "options": {
            "أ": "أهل الثراء والجاه",
            "ب": "أهل البيوتات الصالحة والسوابق الحسنة",
            "ج": "أهل التجربة فقط",
            "د": "أهل القوة والشجاعة"
        },
        "correct": "ب",
        "explanation": "هذه صفات أهل البيوتات الصالحة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 10,
        "text": "ما معنى \"أَصَحُّ أَعْرَاضًا\"؟",
        "options": {
            "أ": "أنهم أقوياء البنية",
            "ب": "أنهم نقيون غير ملوثين بالأعمال السيئة",
            "ج": "أنهم كثيرو الأولاد",
            "د": "أنهم طوال القامة"
        },
        "correct": "ب",
        "explanation": "صحة العرض تعني سلامة السمعة والنزاهة",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 11,
        "text": "كيف وصف النص أهل البيوتات الصالحة من حيث النظر في عواقب الأمور؟",
        "options": {
            "أ": "هم أقل الناس نظرًا في العواقب",
            "ب": "هم أبلغ الناس نظرًا في عواقب الأمور",
            "ج": "هم لا يهتمون بالعواقب",
            "د": "هم يتعجلون في اتخاذ القرارات"
        },
        "correct": "ب",
        "explanation": "أهل البيوتات الصالحة ينظرون في عواقب الأمور",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 12,
        "text": "لماذا كان أهل البيوتات الصالحة أبلغ نظرًا في عواقب الأمور؟",
        "options": {
            "أ": "لخبرتهم الطويلة في التجارة",
            "ب": "لإدراكهم العواقب السيئة للفساد والإهمال",
            "ج": "لقراءتهم الكتب القديمة",
            "د": "لسفرهم الكثير"
        },
        "correct": "ب",
        "explanation": "يدركون عواقب الفساد من خلال تربيتهم",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 13,
        "text": "ما المقصود بقوله ﷺ: \"ثُمَّ أَسْبِغْ عَلَيْهِمُ الرِّزْقَ\"؟",
        "options": {
            "أ": "أن يكثر عليهم المطر",
            "ب": "أن يعطيهم أرزاقًا ومرتبات مجزية تكفيهم",
            "ج": "أن يمنع عنهم الرزق",
            "د": "أن يكلفهم بأعمال شاقة"
        },
        "correct": "ب",
        "explanation": "إسباغ الرزق يعني إعطاء مرتبات كافية",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 14,
        "text": "ما الحكمة من إسباغ الرزق على العمال والمسؤولين؟",
        "options": {
            "أ": "ليتكبروا على الناس",
            "ب": "ليكون قوة لهم على استصلاح أنفسهم",
            "ج": "ليدخروا المال لأنفسهم فقط",
            "د": "ليتركوا العمل"
        },
        "correct": "ب",
        "explanation": "الرزق الكافي يعين على الاستقامة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 15,
        "text": "\"وَغِنًى لَهُمْ عَنْ تَنَاوُلِ مَا تَحْتَ أَيْدِيهِمْ\" ماذا يعني \"تَنَاوُلِ مَا تَحْتَ أَيْدِيهِمْ\"؟",
        "options": {
            "أ": "أكل الطعام",
            "ب": "استغلال المال العام والاختلاس",
            "ج": "السفر للخارج",
            "د": "التبرع للفقراء"
        },
        "correct": "ب",
        "explanation": "المرتب الكافي يغني عن سرقة المال العام",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 16,
        "text": "ما أثر إعطاء الرزق الكافي للمسؤولين من ناحية الحجة عليهم إذا خالفوا؟",
        "options": {
            "أ": "لا حجة عليهم",
            "ب": "تكون الحجة عليهم أقوى إن خانوا",
            "ج": "يصبحون غير مسؤولين",
            "د": "يقل إخلاصهم"
        },
        "correct": "ب",
        "explanation": "لا عذر لهم في الخيانة وقد كفوا حاجتهم",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 17,
        "text": "\"ثُمَّ تَفَقَّدْ أَعْمَالَهُمْ\" ما أهمية تفقد أعمال العمال والمسؤولين؟",
        "options": {
            "أ": "لإذلالهم وتعذيبهم",
            "ب": "لتصويب الأخطاء وإصلاح الخلل",
            "ج": "للتجسس عليهم فقط",
            "د": "لجمع الأموال منهم"
        },
        "correct": "ب",
        "explanation": "التفقد يصوب الأخطاء ويحسن الأداء",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 18,
        "text": "لماذا قد ينزعج بعض المسؤولين من تفقد أعمالهم؟",
        "options": {
            "أ": "لأنهم يعتبرونها فرصة للتطوير",
            "ب": "لأنهم يرونها عدم ثقة بهم",
            "ج": "لأنها تزيد من إنتاجيتهم",
            "د": "لأنها تعطيهم مكافآت"
        },
        "correct": "ب",
        "explanation": "البعض يرى التفقد عدم ثقة رغم ضرورته",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 19,
        "text": "ما هو \"انْتِعَاثُ الْعُيُونِ\" الذي أمر به الإمام علي ﷺ؟",
        "options": {
            "أ": "إرسال الجواسيس لقتل الناس",
            "ب": "إرسال مراقبين سريين من أهل الصدق",
            "ج": "إغلاق العيون ومنع الرقابة",
            "د": "جمع الأموال من العيون"
        },
        "correct": "ب",
        "explanation": "الرقابة السرية تكون بإرسال مراقبين من أهل الصدق",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 20,
        "text": "ما صفات من يختارون للرقابة السرية (العيون)؟",
        "options": {
            "أ": "أهل القوة والبطش",
            "ب": "أهل الصدق والوفاء",
            "ج": "أهل الثراء والنفوذ",
            "د": "أهل القرابة والنسب"
        },
        "correct": "ب",
        "explanation": "المراقبون يجب أن يكونوا أهل صدق ووفاء",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 21,
        "text": "ما فائدة الرقابة السرية على المسؤولين؟",
        "options": {
            "أ": "تضييع الوقت والجهد",
            "ب": "حثهم على استعمال الأمانة والرفق",
            "ج": "زيادة الفساد",
            "د": "إضعاف الثقة بين الناس"
        },
        "correct": "ب",
        "explanation": "الرقابة تحث المسؤولين على الأمانة والرفق",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 22,
        "text": "\"وَتَحَفَّظْ مِنَ الْأَعْوَانِ\" ماذا تعني هذه العبارة؟",
        "options": {
            "أ": "الثقة العمياء في الأعوان",
            "ب": "التيقظ والانتباه للأعوان وعدم الغفلة عن أدائهم",
            "ج": "إهمال متابعتهم تمامًا",
            "د": "تقديمهم على غيرهم بلا سبب"
        },
        "correct": "ب",
        "explanation": "يجب مراقبة الأعوان وعدم الغفلة عنهم",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 23,
        "text": "لماذا يجب التحفظ من الأعوان حتى مع معرفتهم السابقة بالصلاح؟",
        "options": {
            "أ": "لأنهم دائمًا خونة",
            "ب": "لأن الإنسان قد يتغير بعد توليه المسؤولية",
            "ج": "لأنهم لا يستحقون الثقة أبدًا",
            "د": "لأنهم أعداء"
        },
        "correct": "ب",
        "explanation": "الإنسان قد يتغير بالغرور والسلطة",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 24,
        "text": "ماذا يفعل الوالي إذا ثبتت خيانة أحد الأعوان؟",
        "options": {
            "أ": "يتجاهل الأمر",
            "ب": "يبسط عليه العقوبة ويشهر به",
            "ج": "يزيد في راتبه",
            "د": "يتركه يستمر في منصبه"
        },
        "correct": "ب",
        "explanation": "الخائن يعاقب ويشهر به",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 25,
        "text": "ما الهدف من عقوبة الخائن وتشهيره؟",
        "options": {
            "أ": "لإذلاله فقط",
            "ب": "لإقامة العدل وزجر الآخرين عن الخيانة",
            "ج": "للانتقام الشخصي",
            "د": "لإرضاء أعدائه"
        },
        "correct": "ب",
        "explanation": "العقوبة للعدل والردع",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 26,
        "text": "كيف يؤثر إهمال المحاسبة والعقاب على الفساد في العمل؟",
        "options": {
            "أ": "يقلل الفساد",
            "ب": "يزيد الفساد ويتجرأ الكثيرون عليه",
            "ج": "لا تأثير له",
            "د": "يحسن الأداء"
        },
        "correct": "ب",
        "explanation": "عدم المحاسبة يشجع على الفساد",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 27,
        "text": "ما العلاقة بين تطبيق العقوبة على الخائن وتحقيق العدل؟",
        "options": {
            "أ": "العقوبة تنافي العدل",
            "ب": "العقوبة من العدل والحق في مقابل الخيانة",
            "ج": "العدل يمنع العقوبة",
            "د": "لا علاقة بينهما"
        },
        "correct": "ب",
        "explanation": "العقوبة جزء من العدل",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 28,
        "text": "من الذي ينبغي أن يولى على الأعمال حسب النص؟",
        "options": {
            "أ": "من يطلب المنصب بإلحاح",
            "ب": "أهل التجربة والحياء والبيوتات الصالحة",
            "ج": "الأغنياء فقط",
            "د": "أصحاب النفوذ القبلي فقط"
        },
        "correct": "ب",
        "explanation": "يجب تولية أهل التجربة والحياء والصلاح",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    {
        "id": 29,
        "text": "\"وَالْقَدَمِ فِي الْإِسْلَامِ الْمُتَقَدِّمَة\" تعني:",
        "options": {
            "أ": "السبق في الجري",
            "ب": "السابقة الحسنة والتاريخ المشرف في الإسلام",
            "ج": "تأخر الإسلام",
            "د": "القدم الكبيرة"
        },
        "correct": "ب",
        "explanation": "القدم في الإسلام تعني السبق في الخير",
        "lesson": "الدرس السابع",
        "difficulty": "متوسط"
    },
    {
        "id": 30,
        "text": "ما الذي يدفع الإنسان من أهل البيوتات الصالحة إلى اجتناب الخيانة والفساد؟",
        "options": {
            "أ": "خوفه من القانون فقط",
            "ب": "تربيته على مكارم الأخلاق وعزة النفس والكرامة",
            "ج": "رغبته في المال",
            "د": "ضعف شخصيته"
        },
        "correct": "ب",
        "explanation": "التربية الصالحة تمنع الفساد",
        "lesson": "الدرس السابع",
        "difficulty": "سهل"
    },
    
    # ========== الدرس الثامن (الأسئلة 31-50) ==========
    {
        "id": 31,
        "text": "\"وَتَفَقَّدْ أَمْرَ الْخَرَاجِ بِمَا يُصْلِحُ أَهْلَهُ\" ما المقصود بالخراج هنا؟",
        "options": {
            "أ": "الجباية المالية فقط",
            "ب": "الإيرادات المالية من الإنتاج الزراعي",
            "ج": "الصدقات فقط",
            "د": "الجزية من غير المسلمين"
        },
        "correct": "ب",
        "explanation": "الخراج هو الإيرادات من الإنتاج الزراعي",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 32,
        "text": "ما السياسة الرشيدة في تفقد أمر الخراج؟",
        "options": {
            "أ": "التركيز على الجباية فقط",
            "ب": "النظر في أمر الخراج بما يصلح أهله",
            "ج": "إهمال الزراعة",
            "د": "فرض ضرائب عشوائية"
        },
        "correct": "ب",
        "explanation": "صلاح الخراج بصلاح أهله",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 33,
        "text": "\"فَإِنَّ فِي صَلَاحِهِ وَصَلَاحِهِمْ صَلَاحًا لِمَنْ سِوَاهُمْ\" يشير إلى أن صلاح الخراج وأهله:",
        "options": {
            "أ": "يعود بالنفع على المزارعين فقط",
            "ب": "يعود بالنفع على جميع الناس",
            "ج": "يعود بالنفع على التجار فقط",
            "د": "يعود بالنفع على الولاة فقط"
        },
        "correct": "ب",
        "explanation": "صلاح الزراعة يعود على الجميع",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 34,
        "text": "لماذا تعتبر الزراعة من الأولويات القصوى للأمم؟",
        "options": {
            "أ": "لأنها مصدر ترفيه",
            "ب": "لأنها توفر الأمن الغذائي والاستقلال",
            "ج": "لأنها تستهلك الوقت فقط",
            "د": "لأنها مهنة غير مهمة"
        },
        "correct": "ب",
        "explanation": "الزراعة أساس الأمن الغذائي والاستقلال",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 35,
        "text": "كيف ينظر الغرب والدول المتقدمة إلى الزراعة؟",
        "options": {
            "أ": "كمصدر ثانوي للدخل",
            "ب": "كأمن قومي وثروة ضخمة",
            "ج": "كشيء لا أهمية له",
            "د": "كمجال للهواة فقط"
        },
        "correct": "ب",
        "explanation": "الزراعة أمن قومي في نظر الدول المتقدمة",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 36,
        "text": "ما الذي أدى إلى تراجع اهتمام المسلمين بالزراعة؟",
        "options": {
            "أ": "السياسات المعادية للإسلام والغفلة",
            "ب": "زيادة الاهتمام بالصناعة فقط",
            "ج": "وفرة الأراضي الزراعية",
            "د": "قلة الأمطار"
        },
        "correct": "أ",
        "explanation": "سياسات الأعداء والغفلة سببا التراجع",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 37,
        "text": "\"وَلْيَكُنْ نَظَرُكَ فِي عِمَارَةِ الْأَرْضِ أَبْلَغَ مِنْ نَظَرِكَ فِي اسْتِجْلَابِ الْخَرَاجِ\" ماذا تعني؟",
        "options": {
            "أ": "اهتم بالخراج أكثر من العمارة",
            "ب": "اهتم بعمارة الأرض أكثر من جباية الأموال",
            "ج": "العمارة والخراج شيء واحد",
            "د": "لا تهتم بالعمارة"
        },
        "correct": "ب",
        "explanation": "العمارة أولى من الجباية",
        "lesson": "الدرس الثامن",
        "difficulty": "متوسط"
    },
    {
        "id": 38,
        "text": "\"وَمَنْ طَلَبَ الْخَرَاجَ بِغَيْرِ عِمَارَةٍ، أَخْرَبَ الْبِلَادَ، وَأَهْلَكَ الْعِبَادَ\" ما النتيجة؟",
        "options": {
            "أ": "ازدهار البلاد",
            "ب": "خراب البلاد وهلاك العباد",
            "ج": "زيادة الإنتاج",
            "د": "استقرار الأحوال"
        },
        "correct": "ب",
        "explanation": "طلب المال دون تنمية يهلك البلاد",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 39,
        "text": "من المقومات الأساسية للزراعة التي ذكرت في النص؟",
        "options": {
            "أ": "الأراضي الصالحة، المياه، الأسمدة، البذور",
            "ب": "القصور الفاخرة",
            "ج": "السيارات الحديثة",
            "د": "الأجهزة الإلكترونية"
        },
        "correct": "أ",
        "explanation": "الأرض والماء والأسمدة والبذور أساس الزراعة",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 40,
        "text": "ما المشكلة الكبيرة في استغلال الأراضي الزراعية باليمن؟",
        "options": {
            "أ": "قلة الأراضي الصالحة",
            "ب": "تحول الأراضي الخصبة إلى بناء مساكن",
            "ج": "وفرة المياه",
            "د": "كثرة العمالة الزراعية"
        },
        "correct": "ب",
        "explanation": "البناء على الأراضي الزراعية مشكلة كبيرة",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 41,
        "text": "ما أثر التوسع في زراعة القات على الأمن الغذائي؟",
        "options": {
            "أ": "يزيد من المحاصيل الغذائية",
            "ب": "يقلل من المساحات المزروعة بالحبوب",
            "ج": "يحسن جودة التربة",
            "د": "يزيد من دخل المزارع"
        },
        "correct": "ب",
        "explanation": "القات يحل محل المحاصيل الغذائية",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 42,
        "text": "ما أهمية الاستثمار في الحواجز المائية (السدود، الخزانات)؟",
        "options": {
            "أ": "لتجميع مياه الأمطار للاستفادة منها",
            "ب": "لإهدار المياه",
            "ج": "للزينة فقط",
            "د": "لتلويث المياه"
        },
        "correct": "أ",
        "explanation": "الحواجز المائية تخزن الماء للجفاف",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 43,
        "text": "ما فائدة استخدام وسائل الري الحديثة؟",
        "options": {
            "أ": "إهدار كميات أكبر من الماء",
            "ب": "ترشيد استهلاك الماء وزيادة كفاءة الري",
            "ج": "تعطيل الزراعة",
            "د": "زيادة الملوحة"
        },
        "correct": "ب",
        "explanation": "الري الحديث يوفر الماء ويزيد الإنتاج",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 44,
        "text": "كيف يمكن الاستفادة من الطاقة الشمسية في الزراعة؟",
        "options": {
            "أ": "لإنارة المنازل فقط",
            "ب": "لتشغيل مضخات المياه بدلًا من الديزل",
            "ج": "للتدفئة فقط",
            "د": "لا فائدة منها"
        },
        "correct": "ب",
        "explanation": "الطاقة الشمسية تشغل مضخات المياه بتكلفة أقل",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 45,
        "text": "ما أهمية الأسمدة الطبيعية مقارنة بالأسمدة الكيماوية المستوردة؟",
        "options": {
            "أ": "أنها أقل فائدة",
            "ب": "أنها متوفرة محليًا وأقل ضررًا",
            "ج": "أنها تسبب التلوث",
            "د": "لا تصلح للزراعة"
        },
        "correct": "ب",
        "explanation": "الأسمدة الطبيعية محلية وأقل ضررًا",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 46,
        "text": "ما المشكلة في استيراد المبيدات الضارة من الخارج؟",
        "options": {
            "أ": "أنها رخيصة الثمن",
            "ب": "أنها تسبب أمراضًا خطيرة كالسرطان",
            "ج": "أنها مفيدة جدًا للنبات",
            "د": "أنها تحسن جودة التربة"
        },
        "correct": "ب",
        "explanation": "المبيدات الضارة تضر بصحة الإنسان",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 47,
        "text": "ما هو دور الجمعيات التعاونية في النهوض بالقطاع الزراعي؟",
        "options": {
            "أ": "تعطيل الزراعة",
            "ب": "تجميع الجهود والإمكانات لتطوير الإنتاج",
            "ج": "احتكار الأراضي",
            "د": "منع استخدام الآلات الحديثة"
        },
        "correct": "ب",
        "explanation": "الجمعيات التعاونية توحد الجهود",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 48,
        "text": "ما أهمية العناية بالثروة الحيوانية إلى جانب الزراعة؟",
        "options": {
            "أ": "لا أهمية لها",
            "ب": "لتوفير الغذاء والأسمدة العضوية",
            "ج": "للتسبب في الأمراض",
            "د": "لاستنزاف المياه"
        },
        "correct": "ب",
        "explanation": "الثروة الحيوانية مرتبطة بالزراعة",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    {
        "id": 49,
        "text": "ما الذي تعنيه عبارة \"فَإِنْ شَكُوا ثِقَلًا أَوْ عِلَّةً\" في سياق معاملة المزارعين؟",
        "options": {
            "أ": "تجاهل شكواهم",
            "ب": "التخفيف عنهم إذا ثقلت عليهم الالتزامات",
            "ج": "مضاعفة الضرائب عليهم",
            "د": "معاقبتهم"
        },
        "correct": "ب",
        "explanation": "يجب التخفيف عن المزارعين عند الشكوى",
        "lesson": "الدرس الثامن",
        "difficulty": "متوسط"
    },
    {
        "id": 50,
        "text": "ما الهدف من التخفيف عن المزارعين؟",
        "options": {
            "أ": "إرهاقهم",
            "ب": "صلاح أمرهم واستمرار عمارة الأرض",
            "ج": "إفلاسهم",
            "د": "هجرتهم من القرية"
        },
        "correct": "ب",
        "explanation": "التخفيف يعينهم على الاستمرار في الزراعة",
        "lesson": "الدرس الثامن",
        "difficulty": "سهل"
    },
    
    # ========== الدرس التاسع (الأسئلة 51-70) ==========
    {
        "id": 51,
        "text": "من هم الكُتَّاب الذين ذكرهم الإمام علي؟",
        "options": {
            "أ": "الشعراء",
            "ب": "الإداريون والعاملون في المكاتب وأمناء السر",
            "ج": "الجنود",
            "د": "القضاة"
        },
        "correct": "ب",
        "explanation": "الكتاب هم الإداريون وأمناء السر",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 52,
        "text": "لماذا يعتبر دور الكُتَّاب مهمًا جدًا في إدارة الدولة؟",
        "options": {
            "أ": "لأنهم يقودون الجيوش",
            "ب": "لأنهم يمثلون حلقة الوصل بين المسؤول والناس",
            "ج": "لأنهم يزرعون الأرض",
            "د": "لأنهم يبنون المنازل"
        },
        "correct": "ب",
        "explanation": "الكتاب هم حلقة الوصل مع الناس",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 53,
        "text": "ما أكثر ما يعاني منه الناس من الموظفين الإداريين؟",
        "options": {
            "أ": "سرعتهم في الإنجاز",
            "ب": "إهمالهم وتأخيرهم المعاملات",
            "ج": "أمانتهم الشديدة",
            "د": "تواضعهم"
        },
        "correct": "ب",
        "explanation": "الإهمال والتأخير أبرز المشاكل",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 54,
        "text": "\"فَوَلِّ عَلَى أُمُورِكَ خَيْرَهُمْ\" معنى \"خَيْرَهُمْ\" هنا:",
        "options": {
            "أ": "أكثرهم مالًا",
            "ب": "الأفضل في التقوى والأخلاق والكفاءة",
            "ج": "أكبرهم سنًا",
            "د": "أقواهم جسمًا"
        },
        "correct": "ب",
        "explanation": "الخيرية في الدين والأخلاق والكفاءة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 55,
        "text": "لماذا تخصص الرسائل السرية بمن هم صالحو الأخلاق؟",
        "options": {
            "أ": "ليطّلع عليها الجميع",
            "ب": "ليكونوا أمناء على الأسرار والخطط الحساسة",
            "ج": "لنشرها في الصحف",
            "د": "لمناقشتها في المجالس العامة"
        },
        "correct": "ب",
        "explanation": "الأمين يحفظ الأسرار",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 56,
        "text": "ما صفة \"مِمَّنْ لَا تَبْطُرُهُ الْكَرَامَةُ\"؟",
        "options": {
            "أ": "الذي يطغى إذا أكرمته",
            "ب": "الذي لا تفسده الكرامة والمنزلة",
            "ج": "الذي يخون الأمانة",
            "د": "الذي يكثر من طلباته"
        },
        "correct": "ب",
        "explanation": "من لا تفسده الكرامة هو المأمون",
        "lesson": "الدرس التاسع",
        "difficulty": "متوسط"
    },
    {
        "id": 57,
        "text": "\"وَلَا تَقْصُرُ بِهِ الْغَفْلَةُ\" يعني أن يكون الكاتب:",
        "options": {
            "أ": "مهملاً كثير النسيان",
            "ب": "يقظًا، لا يغفل عن إيصال المراسلات",
            "ج": "كسولاً",
            "د": "متعمدًا إخفاءها"
        },
        "correct": "ب",
        "explanation": "اليقظة مطلوبة في العمل الإداري",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 58,
        "text": "\"وَلَا يُضْعِفُ عَقْدًا اعْتَقَدَهُ لَكَ\" معناه:",
        "options": {
            "أ": "أن يفسخ العقود",
            "ب": "أن يكون متقنًا في تحرير العقود",
            "ج": "أن يزيد في بنود العقد",
            "د": "أن يهمل العقود"
        },
        "correct": "ب",
        "explanation": "الإتقان في العقود ضروري",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 59,
        "text": "\"وَلَا يَعْجِزُ عَنْ إِطْلَاقِ مَا عُقِدَ عَلَيْكَ\" يعني:",
        "options": {
            "أ": "أن يعجز عن فك الارتباطات",
            "ب": "أن يكون قادرًا على تنفيذ ما في العقود",
            "ج": "أن يترك الأمور معلقة",
            "د": "أن يرفض التنفيذ"
        },
        "correct": "ب",
        "explanation": "القدرة على تنفيذ العقود مطلوبة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 60,
        "text": "\"وَلَا يَجْهَلُ مَبْلَغَ قَدْرِ نَفْسِهِ فِي الْأُمُورِ\" ما معنى ذلك؟",
        "options": {
            "أ": "أن يتكبر ويتجاوز صلاحياته",
            "ب": "أن يعرف قدر نفسه وحدود صلاحياته",
            "ج": "أن يجهل كل شيء",
            "د": "أن يتنحى عن مسؤولياته"
        },
        "correct": "ب",
        "explanation": "معرفة حدود الصلاحيات مهمة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 61,
        "text": "\"فَإِنَّ الْجَاهِلَ بِقَدْرِ نَفْسِهِ يَكُونُ بِقَدْرِ غَيْرِهِ أَجْهَلَ\" ما نتيجة جهل الإنسان بقدر نفسه؟",
        "options": {
            "أ": "يصبح حكيمًا",
            "ب": "يزداد جهلاً بالآخرين وبالأمور",
            "ج": "يصبح ناجحًا",
            "د": "يصبح متواضعًا"
        },
        "correct": "ب",
        "explanation": "من يجهل نفسه يجهل غيره أكثر",
        "lesson": "الدرس التاسع",
        "difficulty": "متوسط"
    },
    {
        "id": 62,
        "text": "\"ثُمَّ لَا يَكُنِ اخْتِيَارُكَ إِيَّاهُمْ عَلَى فِرَاسَتِكَ\" كيف يكون الاختيار إذن؟",
        "options": {
            "أ": "بالتخمين والظنون",
            "ب": "بالاختبار والتجربة",
            "ج": "بالمحاباة",
            "د": "بالقرعة"
        },
        "correct": "ب",
        "explanation": "الاختيار يجب أن يكون بالاختبار لا بالظن",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 63,
        "text": "ما معنى \"يَتَعَرَّضُونَ لِفِرَاسَاتِ الْوُلَاةِ بِتَصَنُّعِهِمْ\"؟",
        "options": {
            "أ": "يظهرون الصلاح ليظفروا بالمنصب",
            "ب": "يبتعدون عن الولاة",
            "ج": "يخدمون الناس بصدق",
            "د": "يعملون بإخلاص"
        },
        "correct": "أ",
        "explanation": "بعض الناس يتصنعون الصلاح للمنصب",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 64,
        "text": "\"وَلَكِنِ اخْتَبِرْهُمْ بِمَا وُلُّوا لِلصَّالِحِينَ قَبْلَكَ\" ما معنى هذا الاختبار؟",
        "options": {
            "أ": "اختبارهم بالأعمال السابقة",
            "ب": "اختبارهم بالقرعة",
            "ج": "اختبارهم بالوساطة",
            "د": "اختبارهم بالأماني"
        },
        "correct": "أ",
        "explanation": "ينظر إلى أدائهم السابق مع الصالحين",
        "lesson": "الدرس التاسع",
        "difficulty": "متوسط"
    },
    {
        "id": 65,
        "text": "\"فَاعْمِدْ لِأَحْسَنِهِمْ كَانَ فِي الْعَامَّةِ أَثَرًا\" أي اختر من كان:",
        "options": {
            "أ": "أكثرهم ثراءً",
            "ب": "أحسنهم أثرًا في الناس",
            "ج": "أقلهم شهرة",
            "د": "أكثرهم خصومة"
        },
        "correct": "ب",
        "explanation": "الأثر الحسن في الناس معيار مهم",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 66,
        "text": "\"وَأَعْرَفِهِمْ بِالْأَمَانَةِ وَجْهًا\" يعني:",
        "options": {
            "أ": "أشهرهم بوجوههم",
            "ب": "المعروف بالأمانة والنزاهة",
            "ج": "الذي له وجه جميل",
            "د": "الذي يغير وجهه كثيرًا"
        },
        "correct": "ب",
        "explanation": "السمعة بالأمانة مهمة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 67,
        "text": "ما فائدة تعيين رؤساء أقسام من هؤلاء؟",
        "options": {
            "أ": "ليعطلوا العمل",
            "ب": "لينظموا العمل ويتابعوا الملفات",
            "ج": "ليربكوا العمل",
            "د": "ليفردوا بالسلطة"
        },
        "correct": "ب",
        "explanation": "التنظيم والمتابعة ضروريان",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 68,
        "text": "\"لَا يَقْهَرُهُ كَبِيرُهَا\" يعني أن هذا الرئيس:",
        "options": {
            "أ": "يضعف أمام الأمور الكبيرة",
            "ب": "لا يضعف أمام الأمور الكبيرة",
            "ج": "يقهر مرؤوسيه",
            "د": "يكبر الأمور"
        },
        "correct": "ب",
        "explanation": "القوة في مواجهة التحديات مطلوبة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 69,
        "text": "\"وَلَا يَتَشَتَّتُ عَلَيْهِ كَثِيرُهَا\" يعني:",
        "options": {
            "أ": "يتشتت ذهنه من كثرة التفاصيل",
            "ب": "لا تضيع منه التفاصيل الكثيرة",
            "ج": "يترك التفاصيل",
            "د": "يهتم فقط بالكبير"
        },
        "correct": "ب",
        "explanation": "القدرة على استيعاب التفاصيل مهمة",
        "lesson": "الدرس التاسع",
        "difficulty": "سهل"
    },
    {
        "id": 70,
        "text": "\"وَمَهْمَا كَانَ فِي كُتَّابِكَ مِنْ عَيْبٍ فَتَغَابَيْتَ عَنْهُ أُلْزِمْتَهُ\" ما معنى ذلك؟",
        "options": {
            "أ": "إذا تغافلت عن عيوبهم برئت منها",
            "ب": "إذا تجاهلت عيوبهم ألزمت تبعاتها",
            "ج": "العيوب لا تضر",
            "د": "التغافل عن العيوب مطلوب"
        },
        "correct": "ب",
        "explanation": "المسؤول يتحمل تبعات تقصير مرؤوسيه",
        "lesson": "الدرس التاسع",
        "difficulty": "صعب"
    },
    
    # ========== الدرس العاشر (الأسئلة 71-85) ==========
    {
        "id": 71,
        "text": "\"ثُمَّ اسْتَوْصِ بِالتُّجَّارِ وَذَوِي الصِّنَاعَاتِ\" ما معنى \"استوصِ بهم\"؟",
        "options": {
            "أ": "أوصهم أن يفعلوا خيرًا",
            "ب": "احرص على رعايتهم وأوصِ غيرك بهم خيرًا",
            "ج": "اطلب لنفسك الوصاية",
            "د": "اجعل نفسك وصيًا عليهم"
        },
        "correct": "ب",
        "explanation": "الاستيصاء بهم يعني رعايتهم",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 72,
        "text": "لماذا يولي الإسلام أهمية خاصة للتجار وأهل الصناعات؟",
        "options": {
            "أ": "لأنهم أغنياء",
            "ب": "لأنهم مواد المنافع وأسباب المرافق",
            "ج": "لأنهم يملكون السلطة",
            "د": "لأنهم يحكمون البلاد"
        },
        "correct": "ب",
        "explanation": "التجار يوفرون المنافع للناس",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 73,
        "text": "\"فَإِنَّهُمْ مَوَادُّ الْمَنَافِعِ، وَأَسْبَابُ الْمَرَافِقِ\" ماذا تعني؟",
        "options": {
            "أ": "أنهم سبب المتاعب",
            "ب": "أنهم مصدر الخيرات والمنافع",
            "ج": "أنهم يضرون بالمجتمع",
            "د": "أنهم لا فائدة منهم"
        },
        "correct": "ب",
        "explanation": "التجار مصدر المنافع للناس",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 74,
        "text": "\"وَجُلَّابُهَا مِنَ الْبَاعِدِ وَالْمَطَارِحِ\" يشير إلى أن التجار:",
        "options": {
            "أ": "لا يسافرون",
            "ب": "يجلبون البضائع من الأماكن البعيدة",
            "ج": "يبيعون فقط محليًا",
            "د": "يتاجرون في المنتجات المحلية فقط"
        },
        "correct": "ب",
        "explanation": "التجار يسافرون ويجلبون البضائع",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 75,
        "text": "ما أهمية الحركة التجارية والصناعية للأمن القومي؟",
        "options": {
            "أ": "لا أهمية لها",
            "ب": "توفر الاحتياجات وتقلل الاعتماد على الخارج",
            "ج": "تزيد الاعتماد على الخارج",
            "د": "تضعف البلاد"
        },
        "correct": "ب",
        "explanation": "الاكتفاء الذاتي يقوي الأمن القومي",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 76,
        "text": "كيف يستخدم الغرب الجانب الاقتصادي لابتزاز الدول؟",
        "options": {
            "أ": "بشراء منتجاتها",
            "ب": "بفرض الحصار والضغط الاقتصادي",
            "ج": "بمساعدتها",
            "د": "بتركها وشأنها"
        },
        "correct": "ب",
        "explanation": "الضغط الاقتصادي وسيلة ابتزاز",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 77,
        "text": "ما معنى \"الْمُقِيمِ مِنْهُمْ\"؟",
        "options": {
            "أ": "المسافر",
            "ب": "المستقر في نشاطه التجاري",
            "ج": "المقيم في السجن",
            "د": "المتوقف عن العمل"
        },
        "correct": "ب",
        "explanation": "المقيم هو المستقر في تجارته",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 78,
        "text": "ما معنى \"وَالْمُضْطَرِبِ بِمَالِهِ\"؟",
        "options": {
            "أ": "الذي يضطرب من الخوف",
            "ب": "الذي يتحرك بماله من بلد إلى بلد",
            "ج": "الذي يخسر ماله",
            "د": "الذي يكدس ماله"
        },
        "correct": "ب",
        "explanation": "المضطرب بماله هو التاجر المسافر",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 79,
        "text": "\"فَإِنَّهُمْ سِلْمٌ لَا تُخَافُ بَائِقَتُهُ\" يصف التجار بأنهم:",
        "options": {
            "أ": "مصدر خطر",
            "ب": "أهل سلم لا خوف من ضررهم",
            "ج": "محاربون",
            "د": "خونة"
        },
        "correct": "ب",
        "explanation": "التجار عادة أهل سلم",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 80,
        "text": "\"وَتَفَقَّدْ أُمُورَهُمْ بِحَضْرَتِكَ وَفِي حَوَاشِي بِلَادِكَ\" ماذا يعني؟",
        "options": {
            "أ": "اهتم بهم في العاصمة فقط",
            "ب": "تفقد أحوالهم في كل مكان",
            "ج": "تجاهل أمرهم",
            "د": "أخرجهم من البلاد"
        },
        "correct": "ب",
        "explanation": "التفقد يشمل كل المناطق",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 81,
        "text": "\"وَاعْلَمْ مَعَ ذَلِكَ أَنَّ فِي كَثِيرٍ مِنْهُمْ ضِيقًا فَاحِشًا، وَشُحًّا قَبِيحًا\" هذا تحذير من:",
        "options": {
            "أ": "إيجابياتهم",
            "ب": "سلبياتهم كالضيق والشح",
            "ج": "كرمهم",
            "د": "سخائهم"
        },
        "correct": "ب",
        "explanation": "بعض التجار فيهم ضيق وشح",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 82,
        "text": "ما هي المفاسد التي قد تصدر من بعض التجار؟",
        "options": {
            "أ": "جلب المواد النافعة",
            "ب": "جلب المواد الضارة والغش والاحتكار",
            "ج": "تخفيض الأسعار",
            "د": "تحسين الجودة"
        },
        "correct": "ب",
        "explanation": "بعض التجار يجلبون الضار ويغشون",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 83,
        "text": "ما حكم جلب المبيدات الضارة أو الأغذية الفاسدة؟",
        "options": {
            "أ": "جائز",
            "ب": "ممنوع",
            "ج": "مستحب",
            "د": "مباح"
        },
        "correct": "ب",
        "explanation": "الضار والفاسد ممنوع",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 84,
        "text": "الاحتكار هو:",
        "options": {
            "أ": "توزيع المنافع",
            "ب": "حبس السلع عن الناس لرفع أسعارها",
            "ج": "إتاحة السلع للجميع",
            "د": "خفض الأسعار"
        },
        "correct": "ب",
        "explanation": "الاحتكار حبس السلع عن الناس",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    {
        "id": 85,
        "text": "ما واجب الوالي تجاه الاحتكار؟",
        "options": {
            "أ": "تشجيعه",
            "ب": "منعه",
            "ج": "المشاركة فيه",
            "د": "تجاهله"
        },
        "correct": "ب",
        "explanation": "الاحتكار يجب منعه",
        "lesson": "الدرس العاشر",
        "difficulty": "سهل"
    },
    
    # ========== الدرس الحادي عشر (الأسئلة 86-95) ==========
    {
        "id": 86,
        "text": "\"ثُمَّ اللَّهَ اللَّهَ فِي الطَّبَقَةِ السُّفْلَى\" ما معنى تكرير لفظ الجلالة؟",
        "options": {
            "أ": "سبحان الله",
            "ب": "تأكيد وتحذير للمسؤولية تجاه هذه الفئة",
            "ج": "لا إله إلا الله",
            "د": "الله أكبر"
        },
        "correct": "ب",
        "explanation": "التكرار للتأكيد على الأهمية",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 87,
        "text": "من هم \"الَّذِينَ لَا حِيلَةَ لَهُمْ\"؟",
        "options": {
            "أ": "الأغنياء",
            "ب": "الذين لا قدرة لهم على اكتساب المعيشة",
            "ج": "الأقوياء",
            "د": "التجار"
        },
        "correct": "ب",
        "explanation": "لا حيلة لهم أي لا قدرة لهم على الكسب",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 88,
        "text": "من هم أهل البؤسى والزمنى؟",
        "options": {
            "أ": "الأصحاء",
            "ب": "الفقراء المدقعون وأصحاب الأمراض المزمنة",
            "ج": "الأغنياء",
            "د": "العلماء"
        },
        "correct": "ب",
        "explanation": "أهل البؤسى هم الفقراء، والزمنى هم المرضى",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 89,
        "text": "\"وَاجْعَلْ لَهُمْ قِسْمًا مِنْ بَيْتِ مَالِكَ\" هذا يعني:",
        "options": {
            "أ": "تخصيص أموال لهم من بيت المال",
            "ب": "حرمانهم",
            "ج": "إعطاؤهم ما تبقى فقط",
            "د": "لا شيء لهم"
        },
        "correct": "أ",
        "explanation": "للفقراء حق في بيت المال",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 90,
        "text": "\"فَإِنَّ لِلْأَقْصَى مِنْهُمْ مِثْلَ الَّذِي لِلْأَدْنَى\" هذا المبدأ يعني:",
        "options": {
            "أ": "تفضيل الأقرباء",
            "ب": "التساوي في الحقوق بين جميع المحتاجين",
            "ج": "إعطاء البعيد أكثر",
            "د": "تفضيل أهل المدينة"
        },
        "correct": "ب",
        "explanation": "العدل يقتضي المساواة بين الجميع",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 91,
        "text": "\"وَلَا يَشْغَلَنَّكَ عَنْهُمْ بَطَرٌ\" البطر هنا يعني:",
        "options": {
            "أ": "العمل الجاد",
            "ب": "الترف والانشغال بالملذات عنهم",
            "ج": "العدل",
            "د": "الرحمة"
        },
        "correct": "ب",
        "explanation": "البطر هو الترف والانشغال عن الفقراء",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 92,
        "text": "\"فَلَا تُشْخِصْ هَمَّكَ عَنْهُمْ\" معناه:",
        "options": {
            "أ": "صرف همك عنهم",
            "ب": "لا تصرف اهتمامك عنهم",
            "ج": "اجعل همك منصرفًا عنهم",
            "د": "لا تهتم بهم"
        },
        "correct": "ب",
        "explanation": "لا ترفع همك عنهم، بل اهتم بهم",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 93,
        "text": "\"وَلَا تُصَعِّرْ خَدَّكَ لَهُمْ\" يعني:",
        "options": {
            "أ": "التبسم في وجوههم",
            "ب": "لا تتكبر ولا تعرض عنهم",
            "ج": "الإقبال عليهم",
            "د": "التواضع لهم"
        },
        "correct": "ب",
        "explanation": "تصعير الخد هو الكبر والإعراض",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 94,
        "text": "من هم الذين لا يصلون إلى المسؤول؟",
        "options": {
            "أ": "الوجهاء والأعيان",
            "ب": "الفقراء المنسيون الذين لا وساطة لهم",
            "ج": "الأمراء",
            "د": "العلماء"
        },
        "correct": "ب",
        "explanation": "الفقراء بدون واسطة لا يصلون للمسؤول",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    {
        "id": 95,
        "text": "ما صفة هؤلاء الثقات الذين يرسلون لهذه الفئة؟",
        "options": {
            "أ": "المتكبرون",
            "ب": "أهل الخشية من الله والتواضع",
            "ج": "الأغنياء فقط",
            "د": "الأقوياء فقط"
        },
        "correct": "ب",
        "explanation": "الخشية والتواضع صفات الرعاة",
        "lesson": "الدرس الحادي عشر",
        "difficulty": "سهل"
    },
    
    # ========== الدرس الثاني عشر (الأسئلة 96-100) ==========
    {
        "id": 96,
        "text": "\"فَلَا تُطَوِّلَنَّ احْتِجَابَكَ عَنْ رَعِيَّتِكَ\" الاحتجاب هنا يعني:",
        "options": {
            "أ": "الظهور لهم",
            "ب": "الانعزال عنهم وعدم لقائهم",
            "ج": "الاجتماع بهم",
            "د": "مكالمتهم"
        },
        "correct": "ب",
        "explanation": "الاحتجاب هو الانعزال عن الناس",
        "lesson": "الدرس الثاني عشر",
        "difficulty": "سهل"
    },
    {
        "id": 97,
        "text": "لماذا يؤدي الاحتجاب إلى قلة العلم بالأمور؟",
        "options": {
            "أ": "لأنه يزيد الاطلاع",
            "ب": "لأنه يقطع مصادر المعلومات المباشرة",
            "ج": "لأنه ينوع المصادر",
            "د": "لأنه يسهل الاطلاع"
        },
        "correct": "ب",
        "explanation": "الانقطاع عن الناس يقطع المعلومات",
        "lesson": "الدرس الثاني عشر",
        "difficulty": "سهل"
    },
    {
        "id": 98,
        "text": "ما صفة الخاصة (المقربين) غالبًا؟",
        "options": {
            "أ": "العدل والإنصاف",
            "ب": "الاستئثار بالحقوق والتطاول على الناس",
            "ج": "التواضع والرحمة",
            "د": "خدمة الناس"
        },
        "correct": "ب",
        "explanation": "المقربون غالبًا يستأثرون ويتطاولون",
        "lesson": "الدرس الثاني عشر",
        "difficulty": "سهل"
    },
    {
        "id": 99,
        "text": "\"وَأَلْزِمِ الْحَقَّ مَنْ لَزِمَهُ مِنَ الْقَرِيبِ وَالْبَعِيدِ\" هذا يعني:",
        "options": {
            "أ": "تفضل القريب",
            "ب": "ألزم الحق كل من وجب عليه الحق",
            "ج": "الحق للبعيد فقط",
            "د": "الحق للقريب فقط"
        },
        "correct": "ب",
        "explanation": "الحق يُلزم به الجميع",
        "lesson": "الدرس الثاني عشر",
        "difficulty": "سهل"
    },
    {
        "id": 100,
        "text": "متى نقبل الصلح مع العدو؟",
        "options": {
            "أ": "دائمًا",
            "ب": "إذا كان فيه رضا الله ولم يكن فيه ظلم",
            "ج": "لا نقبل أبدًا",
            "د": "نقبل فقط إذا هددنا"
        },
        "correct": "ب",
        "explanation": "الصلح مقبول إذا كان فيه رضا الله",
        "lesson": "الدرس الثاني عشر",
        "difficulty": "سهل"
    }
]

# ==================== تخزين البيانات ====================
user_stats = defaultdict(lambda: {
    'total_answered': 0,
    'correct': 0,
    'wrong': 0,
    'streak': 0,
    'best_streak': 0,
    'history': [],
    'join_date': datetime.now().strftime("%Y-%m-%d")
})

# ==================== دوال مساعدة للأسئلة ====================
def get_all_questions():
    return QUESTIONS

def get_questions_by_lesson(lesson):
    return [q for q in QUESTIONS if q.get('lesson') == lesson]

def get_random_questions(count=5):
    return random.sample(QUESTIONS, min(count, len(QUESTIONS)))

def get_questions_count():
    return len(QUESTIONS)

def get_lessons_list():
    lessons = {}
    for q in QUESTIONS:
        lesson = q.get('lesson', 'عام')
        lessons[lesson] = lessons.get(lesson, 0) + 1
    return lessons

# ==================== دوال مساعدة ====================
def format_time(seconds: int) -> str:
    minutes = seconds // 60
    secs = seconds % 60
    return f"{minutes:02d}:{secs:02d}"

def calculate_percentage(count: int, total: int) -> float:
    return (count / total * 100) if total > 0 else 0

def get_rank(percentage: float) -> str:
    if percentage >= 90:
        return "🏆 ممتاز"
    elif percentage >= 75:
        return "🎯 جيد جداً"
    elif percentage >= 60:
        return "📘 مقبول"
    else:
        return "📚 يحتاج مراجعة"

# ==================== دوال البوت ====================
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """الصفحة الرئيسية"""
    user = update.effective_user
    username = user.first_name or "صديقي"
    
    text = (
        f"👋 مرحباً {username} في بوت أنشطة الإدارة!\n\n"
        f"📚 عدد الأسئلة: {get_questions_count()}\n"
        f"⏱️ وقت الإجابة: {TIME_LIMIT} ثانية\n\n"
        f"📌 اختر من القائمة:"
    )
    
    keyboard = [
        [InlineKeyboardButton("📝 اختبار عشوائي", callback_data="quiz_random")],
        [InlineKeyboardButton("📚 اختبار حسب الدرس", callback_data="show_lessons")],
        [InlineKeyboardButton("📊 إحصائياتي", callback_data="my_stats")],
        [InlineKeyboardButton("🏆 لوحة الشرف", callback_data="leaderboard")]
    ]
    
    await update.message.reply_text(text, reply_markup=InlineKeyboardMarkup(keyboard))

async def show_lessons(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """عرض قائمة الدروس"""
    query = update.callback_query
    await query.answer()
    
    lessons = get_lessons_list()
    
    text = "📚 **اختر الدرس:**\n\n"
    keyboard = []
    
    for lesson, count in lessons.items():
        keyboard.append([InlineKeyboardButton(f"{lesson} ({count})", callback_data=f"lesson_{lesson}")])
    
    keyboard.append([InlineKeyboardButton("🔙 رجوع", callback_data="main_menu")])
    
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode="Markdown")

async def main_menu(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """العودة للقائمة الرئيسية"""
    query = update.callback_query
    await query.answer()
    
    text = "📌 **القائمة الرئيسية**"
    
    keyboard = [
        [InlineKeyboardButton("📝 اختبار عشوائي", callback_data="quiz_random")],
        [InlineKeyboardButton("📚 اختبار حسب الدرس", callback_data="show_lessons")],
        [InlineKeyboardButton("📊 إحصائياتي", callback_data="my_stats")],
        [InlineKeyboardButton("🏆 لوحة الشرف", callback_data="leaderboard")]
    ]
    
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode="Markdown")

async def my_stats(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """عرض إحصائيات المستخدم"""
    query = update.callback_query
    await query.answer()
    
    user_id = update.effective_user.id
    stats = user_stats[user_id]
    
    total = stats['total_answered']
    correct = stats['correct']
    wrong = stats['wrong']
    percentage = calculate_percentage(correct, total) if total > 0 else 0
    rank = get_rank(percentage)
    
    text = (
        f"📊 **إحصائياتك:**\n\n"
        f"✅ الصحيحة: {correct}\n"
        f"❌ الخاطئة: {wrong}\n"
        f"📈 النسبة: {percentage:.1f}%\n"
        f"🔥 السلسلة: {stats['streak']}\n"
        f"🏆 أفضل سلسلة: {stats['best_streak']}\n"
        f"⭐ التقييم: {rank}"
    )
    
    keyboard = [[InlineKeyboardButton("🔙 رجوع", callback_data="main_menu")]]
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode="Markdown")

async def leaderboard(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """لوحة الشرف"""
    query = update.callback_query
    await query.answer()
    
    top_users = []
    for user_id, stats in user_stats.items():
        if stats['total_answered'] > 0:
            accuracy = (stats['correct'] / stats['total_answered']) * 100
            top_users.append((stats['correct'], accuracy))
    
    top_users.sort(reverse=True)
    top_users = top_users[:10]
    
    text = "🏆 **لوحة الشرف**\n\n"
    
    if not top_users:
        text += "لا توجد إحصائيات بعد"
    else:
        for i, (correct, accuracy) in enumerate(top_users, 1):
            medal = "🥇" if i == 1 else "🥈" if i == 2 else "🥉" if i == 3 else f"{i}."
            text += f"{medal} {correct} صحيحة ({accuracy:.1f}%)\n"
    
    keyboard = [[InlineKeyboardButton("🔙 رجوع", callback_data="main_menu")]]
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode="Markdown")

async def start_quiz(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """بدء الاختبار"""
    query = update.callback_query
    await query.answer()
    
    # اختيار 5 أسئلة عشوائية
    if query.data == "quiz_random":
        questions = get_random_questions(5)
    else:
        lesson = query.data.replace("lesson_", "")
        questions = get_questions_by_lesson(lesson)
        if not questions:
            await query.edit_message_text("لا توجد أسئلة لهذا الدرس")
            return
        questions = random.sample(questions, min(5, len(questions)))
    
    if not questions:
        await query.edit_message_text("لا توجد أسئلة متاحة")
        return
    
    context.user_data['quiz'] = {
        'questions': questions,
        'current': 0,
        'score': 0,
        'start_time': datetime.now().isoformat()
    }
    
    await send_question(update, context)

async def send_question(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """إرسال السؤال"""
    quiz = context.user_data.get('quiz', {})
    
    if not quiz or quiz['current'] >= len(quiz['questions']):
        await end_quiz(update, context)
        return
    
    q = quiz['questions'][quiz['current']]
    current = quiz['current'] + 1
    total = len(quiz['questions'])
    
    # بناء أزرار الخيارات
    keyboard = []
    for opt_key, opt_text in q['options'].items():
        keyboard.append([InlineKeyboardButton(
            f"{opt_key} - {opt_text}",
            callback_data=f"ans_{q['id']}_{opt_key}"
        )])
    
    # إضافة زر إنهاء
    keyboard.append([InlineKeyboardButton("❌ إنهاء الاختبار", callback_data="end_quiz")])
    
    text = (
        f"**📝 السؤال {current}/{total}**\n\n"
        f"{q['text']}\n\n"
        f"📚 **الدرس:** {q.get('lesson', 'عام')}\n"
        f"📊 **المستوى:** {q.get('difficulty', 'متوسط')}"
    )
    
    await update.callback_query.edit_message_text(
        text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        parse_mode="Markdown"
    )

async def handle_answer(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """معالجة الإجابة"""
    query = update.callback_query
    await query.answer()
    
    if query.data == "end_quiz":
        await end_quiz(update, context)
        return
    
    # استخراج بيانات الإجابة
    parts = query.data.split('_')
    if len(parts) != 3:
        return
    
    _, q_id, answer = parts
    q_id = int(q_id)
    
    quiz = context.user_data.get('quiz', {})
    if not quiz:
        return
    
    q_idx = quiz['current']
    if q_idx >= len(quiz['questions']):
        return
    
    q = quiz['questions'][q_idx]
    user_id = update.effective_user.id
    
    # التحقق من الإجابة
    is_correct = (answer == q['correct'])
    
    if is_correct:
        quiz['score'] += 10
        user_stats[user_id]['correct'] += 1
        user_stats[user_id]['streak'] += 1
        if user_stats[user_id]['streak'] > user_stats[user_id]['best_streak']:
            user_stats[user_id]['best_streak'] = user_stats[user_id]['streak']
        feedback = f"✅ **إجابة صحيحة!**\n\n📖 {q.get('explanation', '')}"
    else:
        user_stats[user_id]['wrong'] += 1
        user_stats[user_id]['streak'] = 0
        feedback = f"❌ **إجابة خاطئة**\nالإجابة الصحيحة: {q['correct']}\n\n📖 {q.get('explanation', '')}"
    
    user_stats[user_id]['total_answered'] += 1
    
    # الانتقال للسؤال التالي
    quiz['current'] += 1
    
    # إضافة نقاط
    points_display = f"\n\n🏆 **نقاطك:** {quiz['score']}"
    
    # إذا كان هناك سؤال تالي
    if quiz['current'] < len(quiz['questions']):
        keyboard = [[InlineKeyboardButton("➡️ السؤال التالي", callback_data="next_question")]]
        await query.edit_message_text(
            feedback + points_display,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode="Markdown"
        )
    else:
        # انتهت الأسئلة
        await end_quiz(update, context)

async def next_question(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """الانتقال للسؤال التالي"""
    query = update.callback_query
    await query.answer()
    
    await send_question(update, context)

async def end_quiz(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """إنهاء الاختبار وعرض النتيجة"""
    query = update.callback_query
    user_id = update.effective_user.id
    
    quiz = context.user_data.get('quiz', {})
    score = quiz.get('score', 0)
    total_questions = len(quiz.get('questions', []))
    max_score = total_questions * 10
    percentage = (score / max_score * 100) if max_score > 0 else 0
    rank = get_rank(percentage)
    
    # حفظ التاريخ
    if score > 0:
        user_stats[user_id]['history'].append(f"{score} نقطة")
    
    # شريط التقدم
    filled = int((score / max_score) * 10) if max_score > 0 else 0
    progress = '█' * filled + '░' * (10 - filled)
    
    text = (
        f"🎯 **نتيجة الاختبار**\n\n"
        f"✅ **الإجابات الصحيحة:** {score//10} من {total_questions}\n"
        f"🏆 **النقاط:** {score} من {max_score}\n"
        f"📊 **النسبة:** {percentage:.1f}%\n"
        f"⭐ **التقييم:** {rank}\n"
        f"📈 **التقدم:** [{progress}]"
    )
    
    keyboard = [
        [InlineKeyboardButton("📝 اختبار جديد", callback_data="quiz_random")],
        [InlineKeyboardButton("🏠 القائمة الرئيسية", callback_data="main_menu")]
    ]
    
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode="Markdown")
    
    # تنظيف بيانات الجلسة
    if 'quiz' in context.user_data:
        del context.user_data['quiz']

# ==================== التشغيل الرئيسي ====================
def main():
    print("╔══════════════════════════════╗")
    print("║   🚀 تشغيل بوت الأسئلة      ║")
    print("╚══════════════════════════════╝")
    print(f"✅ عدد الأسئلة: {get_questions_count()}")
    print("✅ البوت يعمل...")
    print(f"✅ رابط البوت: @Mohamhassansufyan_bot")
    
    app = Application.builder().token(TOKEN).build()
    
    # إضافة المعالجات
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(main_menu, pattern="^main_menu$"))
    app.add_handler(CallbackQueryHandler(show_lessons, pattern="^show_lessons$"))
    app.add_handler(CallbackQueryHandler(my_stats, pattern="^my_stats$"))
    app.add_handler(CallbackQueryHandler(leaderboard, pattern="^leaderboard$"))
    app.add_handler(CallbackQueryHandler(start_quiz, pattern="^(quiz_random|lesson_)"))
    app.add_handler(CallbackQueryHandler(handle_answer, pattern="^ans_"))
    app.add_handler(CallbackQueryHandler(next_question, pattern="^next_question$"))
    app.add_handler(CallbackQueryHandler(end_quiz, pattern="^end_quiz$"))
    
    app.run_polling()

if __name__ == "__main__":
    main()